<?xml version="1.0" encoding="utf-8" standalone="no" ?>
<vehicle type="tractor_articulatedAxis">
    <annotation>Copyright (C) GIANTS Software GmbH, All Rights Reserved.</annotation>

    <storeData>
        <name>Quadtrac</name>
        <specs>
            <power>525</power>
            <maxSpeed>40</maxSpeed>
        </specs>
        <functions>
            <function>$l10n_function_tractor</function>
        </functions>
        <image>$data/store/store_caseIHQuadtrac620.png</image>
        <price>412000</price>
        <dailyUpkeep>630</dailyUpkeep>
        <lifetime>600</lifetime>
        <rotation>0</rotation>
        <brand>CASEIH</brand>
        <category>SWS_tractors</category>
        <fieldJob sizeCategory="3" typeCategory="tractor" hasFrontAndBackHydraulics="false" />
        <vertexBufferMemoryUsage>2497392</vertexBufferMemoryUsage>
        <indexBufferMemoryUsage>364968</indexBufferMemoryUsage>
        <textureMemoryUsage>27132456</textureMemoryUsage>
        <instanceVertexBufferMemoryUsage>0</instanceVertexBufferMemoryUsage>
        <instanceIndexBufferMemoryUsage>0</instanceIndexBufferMemoryUsage>
    </storeData>

    <typeDesc>$l10n_typeDesc_tractor</typeDesc>
    <filename>$data/vehicles/steerable/caseIH/caseIHQuadtrac620.i3d</filename>

    <size width="3.5" length="9"/>

    <wheelConfigurations>
        <wheelConfiguration name="$l10n_configuration_valueDefault" price="0">
            <wheels autoRotateBackSpeed="1.6">
                <!-- let the wheels rotate a little bit => better curve behavior and ackermann steering fix -->
                <wheel rotSpeed="1" restLoad="1.9" repr="0>0|0"     driveNode="0>0|0|0" showSteeringAngle="false" radius="0.45" initialCompression="15" suspTravel="0.27" spring="30" damper="90" mass="0.2" frictionScale="3" tireType="crawler" width="0.8" hasTireTracks="true" tireTrackAtlasIndex="6" hasParticles="true" />
                <wheel rotSpeed="1" restLoad="4.2" repr="0>0|1"                         showSteeringAngle="false" radius="0.45" initialCompression="35" suspTravel="0.27" spring="40" damper="90" mass="0.5" frictionScale="3" tireType="crawler" />
                <wheel rotSpeed="1" restLoad="1.9" repr="0>0|2"     driveNode="0>0|2|0" showSteeringAngle="false" radius="0.45" initialCompression="15" suspTravel="0.27" spring="30" damper="90" mass="0.2" frictionScale="3" tireType="crawler" width="0.8" hasTireTracks="true" tireTrackAtlasIndex="6" hasParticles="true" />
                <wheel rotSpeed="1" restLoad="4.2" repr="0>0|3"                         showSteeringAngle="false" radius="0.45" initialCompression="35" suspTravel="0.27" spring="40" damper="90" mass="0.5" frictionScale="3" tireType="crawler" />
                <wheel rotSpeed="1" restLoad="2.0" repr="1>0|0"     driveNode="1>0|0|0" showSteeringAngle="false" radius="0.45" initialCompression="19" suspTravel="0.27" spring="30" damper="90" mass="0.2" frictionScale="3" tireType="crawler" width="0.8" hasTireTracks="true" tireTrackAtlasIndex="6" hasParticles="true" />
                <wheel rotSpeed="1" restLoad="4.3" repr="1>0|1"                         showSteeringAngle="false" radius="0.45" initialCompression="39" suspTravel="0.27" spring="40" damper="90" mass="0.5" frictionScale="3" tireType="crawler" />
                <wheel rotSpeed="1" restLoad="2.0" repr="1>0|2"     driveNode="1>0|2|0" showSteeringAngle="false" radius="0.45" initialCompression="19" suspTravel="0.27" spring="30" damper="90" mass="0.2" frictionScale="3" tireType="crawler" width="0.8" hasTireTracks="true" tireTrackAtlasIndex="6" hasParticles="true" />
                <wheel rotSpeed="1" restLoad="4.3" repr="1>0|3"                         showSteeringAngle="false" radius="0.45" initialCompression="39" suspTravel="0.27" spring="40" damper="90" mass="0.5" frictionScale="3" tireType="crawler" />
            </wheels>
            <crawlers>
                <crawler index="0" speedRefWheel="1" scrollSpeed="0.162" scrollLength="6.16" shaderParameterName="offsetUV" shaderParameterComponent="1" length="1" filename="$data/vehicles/wheels/lizard/crawler.i3d" linkIndex="0>0|0" crawlerIndex="1|1">
                    <rotatingPart index="1" radius="0.447" />
                    <rotatingPart index="2" radius="0.338" />
                    <rotatingPart index="3" radius="0.338" />
                    <rotatingPart index="4" radius="0.17" />
                    <rotatingPart index="5" radius="0.17" />
                    <rotatingPart index="6" radius="0.17" />
                </crawler>
                <crawler index="0" speedRefWheel="3" scrollSpeed="0.162" scrollLength="6.16" shaderParameterName="offsetUV" shaderParameterComponent="1" length="1" filename="$data/vehicles/wheels/lizard/crawler.i3d" linkIndex="0>0|2" crawlerIndex="1|0">
                    <rotatingPart index="1" radius="0.447" />
                    <rotatingPart index="2" radius="0.338" />
                    <rotatingPart index="3" radius="0.338" />
                    <rotatingPart index="4" radius="0.17" />
                    <rotatingPart index="5" radius="0.17" />
                    <rotatingPart index="6" radius="0.17" />
                </crawler>

                <crawler index="0" speedRefWheel="5" scrollSpeed="0.162" scrollLength="6.16" shaderParameterName="offsetUV" shaderParameterComponent="1" length="1" filename="$data/vehicles/wheels/lizard/crawler.i3d" linkIndex="1>0|0" crawlerIndex="1|1">
                    <rotatingPart index="1" radius="0.447" />
                    <rotatingPart index="2" radius="0.338" />
                    <rotatingPart index="3" radius="0.338" />
                    <rotatingPart index="4" radius="0.17" />
                    <rotatingPart index="5" radius="0.17" />
                    <rotatingPart index="6" radius="0.17" />
                </crawler>
                <crawler index="0" speedRefWheel="7" scrollSpeed="0.162" scrollLength="6.16" shaderParameterName="offsetUV" shaderParameterComponent="1" length="1" filename="$data/vehicles/wheels/lizard/crawler.i3d" linkIndex="1>0|2" crawlerIndex="1|0">
                    <rotatingPart index="1" radius="0.447" />
                    <rotatingPart index="2" radius="0.338" />
                    <rotatingPart index="3" radius="0.338" />
                    <rotatingPart index="4" radius="0.17" />
                    <rotatingPart index="5" radius="0.17" />
                    <rotatingPart index="6" radius="0.17" />
                </crawler>
            </crawlers>
        </wheelConfiguration>
    </wheelConfigurations>

    <articulatedAxis componentJointIndex="0" anchorActor="0" rotSpeed="-45" rotMax="33" rotMin="-33">
        <rotatingPart index="0>9|3" negRot="0 -62 0" posRot="0 0 0" />
    </articulatedAxis>

    <differentials>
        <differential torqueRatio="0.5" maxSpeedRatio="1.8" wheelIndex1="0" wheelIndex2="1" /> <!-- front left-right -->
        <differential torqueRatio="0.5" maxSpeedRatio="1.8" wheelIndex1="2" wheelIndex2="3" /> <!-- back left-right -->
        <differential torqueRatio="0.5" maxSpeedRatio="1.8" differentialIndex1="0" differentialIndex2="1" /><!-- front-back -->
    </differentials>

    <ackermannSteering rotSpeed="55" rotMax="15" rotCenter="0 -0.368" />

    <motorConfigurations>
        <motorConfiguration name="Quadtrac 470" hp="525" price="0">
            <motor torqueScale="2.224" minRpm="800" maxRpm="2100" maxForwardSpeed="43" maxBackwardSpeed="15" brakeForce="31.5" lowBrakeForceScale="0.1" lowBrakeForceSpeedLimit="0.1" rotInertia="0.006" minForwardGearRatio="18.3" maxForwardGearRatio="300" minBackwardGearRatio="40" maxBackwardGearRatio="300">
                <torque normRpm="0.47" torque="2.5"/>
				<torque normRpm="0.62" torque="2.6"/>
				<torque normRpm="0.67" torque="2.94"/>
				<torque normRpm="0.76" torque="2.8"/>
				<torque normRpm="0.9" torque="2.56"/>
				<torque normRpm="1" torque="2.1"/>
            </motor>
        </motorConfiguration>
        <motorConfiguration name="Quadtrac 540" hp="613" price="44000" dailyUpkeep="88" icon="$dataS2/menu/hud/configurations/config_engine.png">
            <motor torqueScale="2.597" />
            <objectChange node="0>12|1" visibilityActive="true"/>
            <objectChange node="0>12|0" visibilityActive="false"/>
        </motorConfiguration>
        <motorConfiguration name="Quadtrac 620" hp="692" price="83500" dailyUpkeep="167" icon="$dataS2/menu/hud/configurations/config_engine.png">
            <motor torqueScale="2.932" />
            <objectChange node="0>12|2" visibilityActive="true"/>
            <objectChange node="0>12|0" visibilityActive="false"/>
        </motorConfiguration>
    </motorConfigurations>

    <fuelCapacity>1880</fuelCapacity>

    <cameras count="2">
        <camera1 index="0>1|0|0" rotatable="true" rotateNode="0>1|0" limit="true" useWorldXZRotation="true" rotMinX="-1.4" rotMaxX="1" transMin="4" transMax="40" >
            <raycastNode index="0>1|2"/>
            <raycastNode index="0>1|3"/>
            <raycastNode index="0>1|4"/>
            <raycastNode index="1>1|0"/>
        </camera1>
        <camera2 index="0>1|1" rotatable="true" limit="true" rotMinX="-1.1" rotMaxX="0.4" transMin="0" transMax="0" useMirror="true" isInside="true" />
    </cameras>

    <lights>
        <low>
            <light                       decoration="0>2|0|0"   lightTypes="0 3" />
            <light realLight="0>2|0|1"                          lightTypes="0" excludedLightTypes="3" /> <!--FrontLights-->
            <light                       decoration="1>2|2|0"   lightTypes="0 1"/> <!--BackLights-->
            <light realLight="1>2|1|0|1" decoration="1>2|1|0|0" lightTypes="1"/> <!--WorklightBack-->
            <light                       decoration="0>2|1|0|0" lightTypes="1"/> <!--WorklightBack-->
            <light                       decoration="0>2|1|1|0" lightTypes="2"/> <!--WorklightFront-->
            <light realLight="0>2|0|2"                          lightTypes="3"/> <!--HighBeam -->
        </low>
        <high>
            <light                       decoration="0>2|0|0"   lightTypes="0 3" />
            <light realLight="0>2|0|3"                          lightTypes="0" excludedLightTypes="2 3" /> <!--FrontLights-->
            <light realLight="1>2|2|1"   decoration="1>2|2|0"   lightTypes="0 3" /> <!--BackLights-->
            <light realLight="1>2|1|0|2" decoration="1>2|1|0|0" lightTypes="1" /> <!--WorklightBack  -->
            <light realLight="0>2|1|0|1" decoration="0>2|1|0|0" lightTypes="1" /> <!--WorklightBack  -->
            <light realLight="0>2|1|1|1" decoration="0>2|1|1|0" lightTypes="2"  /> <!--WorklightFront -->
            <light realLight="0>2|0|4"                          lightTypes="3" excludedLightTypes="2" /> <!--HighBeam-->
        </high>
        <states>
            <state lightTypes="0" />
            <state lightTypes="0 1" />
            <state lightTypes="0 1 2" />
        </states>
    </lights>

    <brakeLights>
        <brakeLight realLight="1>2|2|1" decoration="1>2|4|0" />
    </brakeLights>

    <beaconLights>
        <beaconLight index="0>2|5|0" speed="0.015" filename="$data/shared/beaconLights/beaconLight02.i3d" />
        <beaconLight index="0>2|5|1" speed="0.015" filename="$data/shared/beaconLights/beaconLight02.i3d" />
    </beaconLights>

    <turnLights>
        <turnLightLeft realLight="0>2|3|0|1" decoration="0>2|3|0|0" />
        <turnLightLeft realLight="1>2|3|0|1" decoration="1>2|3|0|0"/>
        <turnLightRight realLight="0>2|3|1|1" decoration="0>2|3|1|0" />
        <turnLightRight realLight="1>2|3|1|1" decoration="1>2|3|1|0"/>
    </turnLights>

    <mirrors>
        <mirror index="0>11|0" prio="1" />
        <mirror index="0>11|1" prio="2" />
        <mirror index="0>11|2" prio="1" />
        <mirror index="0>11|3" prio="2" />
        <mirror index="0>11|4" prio="2" />
    </mirrors>

    <indoorHud>
        <fuel animName="fuelDisplay" />
        <cruiseControl numbers="0>10|1" precision="1" />
        <speed numbers="0>10|2" precision="1" />
        <speed numbers="0>10|3" precision="2" />
        <rpm numbers="0>10|4" precision="0" />
        <rpm numbers="0>10|5" precision="0" />
        <time numbers="0>10|6" precision="2" />
        <operatingTime numbers="0>10|7" precision="1" />
        <fuelUsage numbers="0>10|8" precision="1" />
    </indoorHud>

    <enterReferenceNode index="0>"/>
    <exitPoint index="0>3"/>

    <attacherJoints comboDuration="2">
        <attacherJoint index="1>3|0|0|0|0" rootNode="1>" rotationNode="1>3|0|0" rotationNode2="1>3|0|0|0" upperRotation="35 0 0" lowerRotation="-9 0 0" upperDistanceToGround="1.20" lowerDistanceToGround="0.35" upperRotationOffset="-0.67" moveTime="2.5" ptoOutputNode="1>3|2|0" comboTime="1">
            <bottomArm rotationNode="1>3|0|1" translationNode="1>3|0|1|0" referenceNode="1>3|0|1|0|0" zScale="-1" />
            <schema position="1 0" rotation="0" invertX="false" />
        </attacherJoint>
        <!-- trailer attacher -->
        <attacherJoint index="1>3|1|0" rootNode="1>" jointType="trailerLow" lowerRotLimit="10 50 50" upperRotRotationOffset="0" allowsJointLimitMovement="false" ptoOutputNode="1>3|2|0" comboTime="1" >
            <schema position="1 0" rotation="0" invertX="false" />
        </attacherJoint>
        <attacherJoint index="0>5|0" jointType="trailer" lowerRotLimit="10 50 50" upperRotRotationOffset="0" allowsJointLimitMovement="false" comboTime="0" >
            <schema position="0 0" rotation="0" invertX="true" />
        </attacherJoint>
    </attacherJoints>

    <movingTools>
        <!-- attacher joint back bottom-->
        <movingTool index="1>3|0|1">
            <dependentPart index="1>4|0" />
        </movingTool>
        <!-- ladder -->
        <movingTool index="0>9|3">
            <dependentPart index="0>9|3|0" />
        </movingTool>
    </movingTools>

    <movingParts>
        <!-- attacher -->
        <movingPart index="1>4|0" referencePoint="1>3|0|1|0|0" localReferencePoint="1>4|0|0" referenceFrame="1>3|0|1" >
            <dependentPart index="1>4|0|0" />
        </movingPart>
        <movingPart index="1>4|0|0" referencePoint="1>3|0|1|0|0" referenceFrame="1>4|4" >
            <dependentPart index="1>4|1" />
        </movingPart>
        <!-- bottom arm -->
        <movingPart index="1>4|1" referencePoint="1>4|0|0|0" referenceFrame="1>4|0|0|0" scaleZ="true" >
            <dependentPart index="1>4|2" />
        </movingPart>

        <!-- main arm -->
        <movingPart index="1>4|2" referencePoint="1>4|1|0" localReferencePoint="1>4|2|0" referenceFrame="1>3|0|1" >
            <dependentPart index="1>4|2|0" />
            <dependentPart index="1>4|3" />
        </movingPart>
        <movingPart index="1>4|2|0" referencePoint="1>4|1|0" referenceFrame="1>4|4" />
        <movingPart index="1>4|3" referencePoint="1>4|2|1" referenceFrame="1>4|4" >
            <translatingPart index="1>4|3|0" />
        </movingPart>

        <!-- steering -->
        <movingPart index="0>9|1" referencePoint="1>4|5" referenceFrame="1>" isActiveDirty="true" >
            <translatingPart index="0>9|1|0" />
        </movingPart>
        <movingPart index="0>9|2" referencePoint="1>4|6" referenceFrame="1>" isActiveDirty="true" >
            <translatingPart index="0>9|2|0" />
        </movingPart>
        <movingPart index="1>4|9" referencePoint="0>9|6" referenceFrame="0>" scaleZ="true" isActiveDirty="true" />

        <!-- ladder -->
        <movingPart index="0>9|3|0" referencePoint="1>4|10" referenceFrame="1>" useLocalOffset="true" >
            <translatingPart index="0>9|3|0|0" />
        </movingPart>

        <!-- pto -->
        <movingPart index="1>4|7|0|0" referencePoint="0>9|4" referenceFrame="1>4|7|0" limitedAxis="2" isActiveDirty="true" >
            <dependentPart index="1>4|7|0|0|0" />
        </movingPart>
        <movingPart index="1>4|7|0|0|0" referencePoint="0>9|4" referenceFrame="1>4|7|0" limitedAxis="1">
            <dependentPart index="0>9|4|0|0" />
        </movingPart>
        <movingPart index="0>9|4|0|0" referenceFrame="1>4|7|0|0|0" />
        <movingPart index="1>4|8" referencePoint="0>9|5|0" referenceFrame="1>" isActiveDirty="true" />

        <!-- crawler -->
        <movingPart index="0>0|0" referencePoint="0>0|1" referenceFrame="0>" isActiveDirty="true" />
        <movingPart index="0>0|2" referencePoint="0>0|3" referenceFrame="0>" isActiveDirty="true" />
        <movingPart index="1>0|0" referencePoint="1>0|1" referenceFrame="0>" isActiveDirty="true" />
        <movingPart index="1>0|2" referencePoint="1>0|3" referenceFrame="0>" isActiveDirty="true" />
    </movingParts>

    <animations>
        <animation name="fuelDisplay">
            <part node="0>10|0" startTime="0" endTime="1" startRot="0 0 0" endRot="-115 0 0" />
        </animation>
    </animations>

    <steering index="0>4|0" indoorRotation="540" outdoorRotation="50" />

    <characterNode index="0>6|0" cameraMinDistance="1.5" filename="$dataS2/character/player/player.xml" spineRotation="180 0 105" >
        <target ikChain="rightFoot" targetNode="0>6|1" />
        <target ikChain="leftFoot"  targetNode="0>6|2" />
        <target ikChain="rightArm"  targetNode="0>4|0|0" setDirty="true"/>
        <target ikChain="leftArm"   targetNode="0>4|0|1" setDirty="true" />
    </characterNode>

    <ai>
        <trafficCollisionTrigger index="0>7|0" />
    </ai>

    <exhaustEffects>
        <exhaustEffect index="0>8|0" filename="$data/particleSystems/shared/exhaust.i3d" minRpmColor="0.0 0.0 0.0 1.5" maxRpmColor="0.0 0.0 0.0 3.5" minRpmScale="0.005" maxRpmScale="0.45" xzRotationsOffset="-100 0" xzRotationsForward="-50 0" xzRotationsBackward="100 0" xzRotationsLeft="0 150" xzRotationsRight="0 -150" />
    </exhaustEffects>

    <motorStartDuration>3800</motorStartDuration>
    <motorStartSound file="$data/vehicles/steerable/caseIH/caseIHQuadtrac620_start.wav" pitchOffset="0.90" volume="0.90" indoorVolumeFactor="0.42" indoorLowpassGain="0.65" />
    <motorSound file="$data/vehicles/steerable/caseIH/caseIHQuadtrac620_idle.wav"       pitchOffset="0.90" volume="0.90" indoorVolumeFactor="0.42" indoorLowpassGain="0.65"   volumeMin="0.75" volumeMinSpeed="12" pitchMax="1.24" radius="50" innerRadius="20" />
    <motorStopSound file="$data/vehicles/steerable/caseIH/caseIHQuadtrac620_stop.wav"   pitchOffset="1.00" volume="0.90" indoorVolumeFactor="0.42" indoorLowpassGain="0.65" />

    <motorSoundRun file="$data/vehicles/steerable/americanTruck/americanTruck_load.wav"  pitchOffset="1.46" volume="1.10" indoorVolumeFactor="0.62" indoorLowpassGain="0.85" pitchMax="1.82" />
    <motorSoundLoad file="$data/vehicles/steerable/americanTruck/americanTruck_load.wav" pitchOffset="0.65" volume="1.30" indoorVolumeFactor="0.37" indoorLowpassGain="0.70" pitchMax="1.87"   minimalVolumeFactor="0.00" />

    <gearboxSound file="$data/sounds/transmission/transmissionCVT_X.wav"                pitchOffset="0.72" volume="0.32" indoorVolumeFactor="0.68" indoorLowpassGain="0.45" pitchMax="1.34" volumeMax="0.77"   reverseVolumeMax="0.80"  />
    <retarderSound file="$data/sounds/transmission/module1.wav"                         pitchOffset="0.55" volume="0.05" indoorVolumeFactor="0.45" indoorLowpassGain="0.75" pitchMax="2.00" volumeMax="0.20"   minSpeed="0.1" />

    <brakeCompressor capacity="10000" fillSpeed="5000" />
    <maximalAirConsumptionPerFullStop value="2050" />
    <brakeCompressorStartSound file="$data/vehicles/steerable/caseIH/caseIH620_valve.wav"       pitchOffset="1.00"  volume="1.00"  indoorVolumeFactor="0.70" indoorLowpassGain="0.95" />
    <brakeCompressorRunSound file="$data/sounds/technicalAccessories/compressor_idle.wav"       pitchOffset="1.05"  volume="0.10"  indoorVolumeFactor="0.60" indoorLowpassGain="0.95"  pitchMax="1.15" />
    <brakeCompressorStopSound file="$data/sounds/technicalAccessories/pressure_regulator.wav"   pitchOffset="0.95"  volume="0.95"  indoorVolumeFactor="0.60" indoorLowpassGain="0.95" />
    <compressedAirSound file="$data/sounds/technicalAccessories/brakeSmall.wav"                 pitchOffset="1.00"  volume="0.85"  indoorVolumeFactor="0.40" indoorLowpassGain="0.95" />
    <airReleaseValveSound file="$data/vehicles/steerable/jcb/jcb_module.wav"                    pitchOffset="0.90"  volume="1.00"  indoorVolumeFactor="0.85" indoorLowpassGain="0.95"/>

    <reverseDriveSound file="$data/sounds/reverseDrivingBeep_2.wav"                             pitchOffset="0.87"  volume="1.10"  indoorVolumeFactor="0.35" indoorLowpassGain="0.75" />
    <honkSound file="$data/sounds/hornBig.wav"                                                  pitchOffset="1.00"  volume="1.50"  indoorVolumeFactor="0.35" indoorLowpassGain="0.95" radius="70" innerRadius="10" />
    <attachSound file="$data/sounds/header_attach.wav"                                          pitchOffset="1.00"  volume="1.50"  indoorVolumeFactor="0.50" indoorLowpassGain="0.95" />
    <hydraulicSound file="$data/sounds/hydraulicUp.wav"                                         pitchOffset="0.80"  volume="1.00"  indoorVolumeFactor="0.40" indoorLowpassGain="0.95" />

    <speedRotatingParts>
        <speedRotatingPart index="1>4|7|0"   wheelIndex="2" wheelScale="2"/>
        <speedRotatingPart index="0>9|4|0"   wheelIndex="2" wheelScale="2"/>
        <speedRotatingPart index="0>9|5|0"   wheelIndex="2" wheelScale="2"/>
        <speedRotatingPart index="1>4|8|0|0" wheelIndex="2" wheelScale="2"/>
    </speedRotatingParts>

    <washable dirtDuration="50" washDuration="1" workMultiplier="4" />

    <components count="2">
        <component1 centerOfMass="0 0.8 1.4" solverIterationCount="10" />
        <component2 centerOfMass="0 0.8 -1.3" solverIterationCount="10" />
        <joint component1="0" component2="1" index="0>9|0" rotLimit="0 0 0" transLimit="0 0 0" breakable="false"/>
    </components>

    <schemaOverlay file="$dataS2/menu/schemas/vehicleSchema.png" fileSelected="$dataS2/menu/schemas/vehicleSchemaSelected.png" width="0.5" height="0.5" attacherJointPosition="0.5 0" />

</vehicle>