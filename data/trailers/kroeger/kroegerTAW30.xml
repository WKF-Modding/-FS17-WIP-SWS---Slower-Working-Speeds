<?xml version="1.0" encoding="utf-8" standalone="no" ?>
<vehicle type="trailer">
    <annotation>Copyright (C) GIANTS Software GmbH, All Rights Reserved.</annotation>

    <storeData>
        <name>TAW 30</name>
        <functions>
            <function>$l10n_function_tipper</function>
        </functions>
        <image>$data/store/store_kroegerTAW30.png</image>
        <price>56000</price>
        <dailyUpkeep>30</dailyUpkeep>
        <lifetime>600</lifetime>
        <rotation>0</rotation>
        <brand>KROEGER</brand>
        <category>SWS_tippers</category>
        <vertexBufferMemoryUsage>1254800</vertexBufferMemoryUsage>
        <indexBufferMemoryUsage>213000</indexBufferMemoryUsage>
        <textureMemoryUsage>9612328</textureMemoryUsage>
        <instanceVertexBufferMemoryUsage>0</instanceVertexBufferMemoryUsage>
        <instanceIndexBufferMemoryUsage>0</instanceIndexBufferMemoryUsage>
    </storeData>

    <typeDesc>$l10n_typeDesc_tipper</typeDesc>
    <filename>$data/vehicles/trailers/kroeger/kroegerTAW30.i3d</filename>

    <size width="3.2" length="11.5" />

    <wheelConfigurations>
        <wheelConfiguration name="$l10n_configuration_valueDefault" price="0">
            <wheels>
                <wheel tipOcclusionAreaGroupId="1" restLoad="1.7" repr="0>0|0" driveNode="0>0|0|0" forcePointRatio="0.3" filename="$data/vehicles/wheels/trelleborg/TwinRadial_710_50R26_5.xml" isLeft="true"  initialCompression="25" suspTravel="0.2" spring="30" damper="110" hasParticles="true" steeringAxleScale="0.3" steeringAxleRotMax="10" steeringAxleRotMin="-10"/>
                <wheel tipOcclusionAreaGroupId="2" restLoad="1.7" repr="0>0|1" driveNode="0>0|1|0" forcePointRatio="0.3" filename="$data/vehicles/wheels/trelleborg/TwinRadial_710_50R26_5.xml" isLeft="false" initialCompression="25" suspTravel="0.2" spring="30" damper="110" hasParticles="true" steeringAxleScale="0.3" steeringAxleRotMax="10" steeringAxleRotMin="-10"/>
                <wheel tipOcclusionAreaGroupId="1" restLoad="1.6" repr="0>0|2"                     forcePointRatio="0.3" filename="$data/vehicles/wheels/trelleborg/TwinRadial_710_50R26_5.xml" isLeft="true"  initialCompression="25" suspTravel="0.2" spring="30" damper="110" />
                <wheel tipOcclusionAreaGroupId="2" restLoad="1.6" repr="0>0|3"                     forcePointRatio="0.3" filename="$data/vehicles/wheels/trelleborg/TwinRadial_710_50R26_5.xml" isLeft="false" initialCompression="25" suspTravel="0.2" spring="30" damper="110" />
                <wheel tipOcclusionAreaGroupId="1" restLoad="1.6" repr="0>0|4" driveNode="0>0|4|0" forcePointRatio="0.3" filename="$data/vehicles/wheels/trelleborg/TwinRadial_710_50R26_5.xml" isLeft="true"  initialCompression="25" suspTravel="0.2" spring="30" damper="110" hasTireTracks="true" hasParticles="true" steeringAxleScale="-0.7" steeringAxleRotMax="20" steeringAxleRotMin="-20"/>
                <wheel tipOcclusionAreaGroupId="2" restLoad="1.6" repr="0>0|5" driveNode="0>0|5|0" forcePointRatio="0.3" filename="$data/vehicles/wheels/trelleborg/TwinRadial_710_50R26_5.xml" isLeft="false" initialCompression="25" suspTravel="0.2" spring="30" damper="110" hasTireTracks="true" hasParticles="true" steeringAxleScale="-0.7" steeringAxleRotMax="20" steeringAxleRotMin="-20"/>
            </wheels>
        </wheelConfiguration>
    </wheelConfigurations>

    <axisColor>0.7012 0.0097 0.0189 1</axisColor>

    <steeringAxleAngleScale startSpeed="0" endSpeed="90" />
    <brakeForce>1.4</brakeForce>
    <maximalAirConsumptionPerFullStop value="0.5" />

    <lights>
        <low>
            <light                       decoration="0>2|0|0"     lightTypes="0 3" />
            <light                       decoration="0>3|1|1|0|0" lightTypes="0 3" />
        </low>
        <high>
            <light                         decoration="0>2|0|0"     lightTypes="0 3" />
            <light realLight="0>3|1|1|0|1" decoration="0>3|1|1|0|0" lightTypes="0 3" />
        </high>
    </lights>

    <brakeLights>
        <brakeLight realLight="0>3|1|1|0|1" decoration="0>3|1|1|2|0" />
    </brakeLights>

    <turnLights>
        <turnLightLeft  realLight="0>3|1|1|1|0|1" decoration="0>3|1|1|1|0|0" />
        <turnLightRight realLight="0>3|1|1|1|1|1" decoration="0>3|1|1|1|1|0" />
    </turnLights>

    <fillUnits>
        <fillUnit unit="$l10n_unit_literShort" fillTypeCategories="bulk" capacity="45000" />
    </fillUnits>

    <fillVolumes>
        <volumes>
            <volume index="0>3|4|0" maxDelta="0.23">
                <deformNode index="0>3|2|0|0|3" />
                <deformNode index="0>3|2|0|0|4" />
                <deformNode index="0>3|4|2|0" />
                <deformNode index="0>3|4|2|1" />
                <deformNode index="0>3|4|2|2" />
                <deformNode index="0>3|4|2|3" />
                <deformNode index="0>3|4|2|4" />
                <deformNode index="0>3|4|2|5" />
                <deformNode index="0>3|4|2|6" />
                <deformNode index="0>3|4|2|7" />
                <deformNode index="0>3|4|2|8" />
                <deformNode index="0>3|4|2|9" />
            </volume>
        </volumes>

        <unloadInfos>
            <unloadInfo> <!-- back -->
                <node index="0>3|4|1" width="1.0" length="1.4" />
            </unloadInfo>
        </unloadInfos>

        <heights>
            <height fillVolumeIndex="1">
                <refNode index="0>3|4|3|0" />
                <refNode index="0>3|4|3|1" />
                <node index="0>3|5" baseScale="1 1 1" transAxis="0 1 0" />
                <node index="0>3|6" baseScale="1 0.1 1" scaleAxis="0 1 0" transAxis="0 0 0" />
            </height>
        </heights>
    </fillVolumes>

    <cylinderedHydraulicSound file="$data/sounds/hydraulicUp.wav" pitchOffset="0.8" volume="0.4" indoorVolumeFactor="0.85" />
    <fillSound file="$data/maps/sounds/siloFillSound.wav"         pitchOffset="1.0" volume="1.5" indoorVolumeFactor="0.80"/>

    <inputAttacherJoints>
        <inputAttacherJoint index="0>1" jointType="trailerLow" attacherHeight="0.45" steeringBarLeftNode="0>3|9|0" steeringBarRightNode="0>3|9|2"/>
    </inputAttacherJoints>

    <tipReferencePoints>
        <tipReferencePoint index="0>3|7" width="2.5" />
    </tipReferencePoints>

    <tipAnimations>
        <tipAnimation speedScale="1" openSpeedScale="1.1" animationName="tipAnimationBack" dischargeStartTime="0.5" dischargeEndTime="15" doorAnimationName="tipAnimationBackDoor" doorAnimationOpenSpeedScale="1" doorAnimationCloseSpeedScale="-1.2" >
            <tipEffect>
                <effectNode effectNode="0>3|5|0" materialType="unloading" materialTypeId="3" fadeTime="0.5"/>
                <effectNode effectNode="0>3|5|1" materialType="smoke"     materialTypeId="1" fadeTime="0.5"/>
            </tipEffect>
            <emitterShape node="0>3|6|0" />
            <fillVolume>
                <unloadInfo index="1"/>
                <height index="1"/>
            </fillVolume>
        </tipAnimation>
    </tipAnimations>

    <fillRootNode index="0>" />
    <exactFillRootNode index="0>3|8" />
    <fillAutoAimTargetNode index="0>3|8|0" startZ="3.7" endZ="-3.5" invert="false" fillUnitIndex="1" startPercentage="25"/>
    <fillMassNode index="0>" />

    <movingTools>
        <!-- backtipping -->
        <movingTool index="0>3|1">
            <dependentPart index="0>3|3|0" />
        </movingTool>

        <movingTool index="0>3|3|1" >
            <dependentPart index="0>3|3|1|0" />
            <dependentPart index="0>3|3|1|1" />
            <dependentPart index="0>3|3|1|2" />
            <dependentPart index="0>3|3|3" />
        </movingTool>

        <movingTool index="0>3|2|0|0" playSound="true" />

        <!-- flap -->
        <movingTool index="0>3|2|0|0|0" playSound="true" >
            <controls axis="AXIS_DOOR" invertAxis="true" mouseSpeedFactor="0.3" iconFilename="$dataS2/menu/moveControls/topDoor.png" />
            <rotation rotSpeed="45" rotAcceleration="280" rotMax="63.317" rotMin="23.317" rotationAxis="1" />
            <dependentPart index="0>3|2|0|0|1" />
        </movingTool>
        <movingTool index="0>3|2|0|0|0|0">
            <controls axis="AXIS_DOOR" invertAxis="true" mouseSpeedFactor="0.3" />
            <translation transSpeed="0.2" transAcceleration="10" transMax="0.314" transMin="0.169" translationAxis="2" />
        </movingTool>
    </movingTools>

    <movingParts>
        <!-- backtipping -->
        <movingPart index="0>3|3|0" referencePoint="0>3|1|0" referenceFrame="0>3|1|0" playSound="true" >
            <translatingPart index="0>3|3|0|0" />
        </movingPart>

        <movingPart index="0>3|3|1|0" referencePoint="0>3|2|1" localReferencePoint="0>3|3|1|0|0" referenceFrame="0>3|3|4" playSound="true" >
            <dependentPart index="0>3|3|1|0|0" />
        </movingPart>
        <movingPart index="0>3|3|1|0|0" referencePoint="0>3|2|1" referenceFrame="0>" />

        <movingPart index="0>3|3|3" referencePoint="0>3|3|1|3" referenceFrame="0>3|3|1|3" >
            <translatingPart index="0>3|3|3|0" />
        </movingPart>

        <movingPart index="0>3|3|1|1" referencePoint="0>3|3|2" referenceFrame="0>3|3|2" />

        <movingPart index="0>3|3|1|2" referencePoint="0>3|3|1|0|1" referenceFrame="0>" />


        <!-- steering -->
        <movingPart index="0>0|0|1" referencePoint="0>3|3|5" referenceFrame="0>3|3|5" isActiveDirty="true">
            <translatingPart index="0>0|0|1|0" />
        </movingPart>
        <movingPart index="0>0|1|1" referencePoint="0>3|3|6" referenceFrame="0>3|3|6" isActiveDirty="true">
            <translatingPart index="0>0|1|1|0" />
        </movingPart>
        <movingPart index="0>0|4|1" referencePoint="0>3|3|7" referenceFrame="0>3|3|7" isActiveDirty="true">
            <translatingPart index="0>0|4|1|0" />
        </movingPart>
        <movingPart index="0>0|5|1" referencePoint="0>3|3|8" referenceFrame="0>3|3|8" isActiveDirty="true">
            <translatingPart index="0>0|5|1|0" />
        </movingPart>

        <!-- flap -->
        <movingPart index="0>3|2|0|0|1" referencePoint="0>3|2|0|0|0|0" referenceFrame="0>3|2|0|0|0|0" />

        <!-- steering bars left-->
        <movingPart index="0>3|9|0" referencePoint="0>3|9|0|0|0" localReferencePoint="0>3|9|0|0" referenceFrame="0>3|9|4" >
            <dependentPart index="0>3|9|0|0" />
            <dependentPart index="0>3|9|1" />
        </movingPart>
        <movingPart index="0>3|9|0|0" referencePoint="0>3|9|0|0|0" referenceFrame="0>" />

        <movingPart index="0>3|9|1" referencePoint="0>3|9|0|1" referenceFrame="0>3|9|0|1" isActiveDirty="true">
            <translatingPart index="0>3|9|1|0" />
        </movingPart>

        <!-- steering bars right-->
        <movingPart index="0>3|9|2" referencePoint="0>3|9|2|0|0" localReferencePoint="0>3|9|2|0" referenceFrame="0>3|9|4" >
            <dependentPart index="0>3|9|2|0" />
            <dependentPart index="0>3|9|3" />
        </movingPart>
        <movingPart index="0>3|9|2|0" referencePoint="0>3|9|2|0|0" referenceFrame="0>" />

        <movingPart index="0>3|9|3" referencePoint="0>3|9|2|1" referenceFrame="0>3|9|2|1" isActiveDirty="true">
            <translatingPart index="0>3|9|3|0" />
        </movingPart>
    </movingParts>

    <animations>
        <!-- support -->
        <animation name="moveSupport">
            <part node="0>3|0" startTime="0" endTime="0.2" startTrans="0 0.833 3.54" endTrans="0 0.4 3.54" />
        </animation>
        <!-- backtipping -->
        <animation name="tipAnimationBack">
            <part node="0>3|12|1"     startTime="0"  endTime="1" startRot="0 0 0" endRot="0 89.5 0" />
            <part node="0>3|12|2"     startTime="0"  endTime="1" startRot="0 0 0" endRot="0 89.5 0" />

            <part node="0>3|3|1"      startTime="1"  endTime="10" startRot="0 0 0" endRot="0 -50 0" />
            <part node="0>3|2"        startTime="1"  endTime="10" startTrans="0 1.698 4.416" endTrans="0 1.698 0.095" />
            <part node="0>3|2|0"      startTime="10" endTime="16" startTrans="0 0.330 -0.650" endTrans="0 0.330 -2.156" />
            <part node="0>3|2|0|0"    startTime="10" endTime="16" startTrans="0 0.641 -0.167" endTrans="0 0.641 -1.2" /> <!-- -1.433 /-->

            <part node="0>3|2|0|0|3"  startTime="1" endTime="16" startTrans="1.156 0.598 -0.106" endTrans="1.156 0.598 -0.11" />    <!-- move slightly to trigger dirty state -->
            <part node="0>3|2|0|0|4"  startTime="1" endTime="16" startTrans="-1.163 0.598 -0.106" endTrans="-1.163 0.598 -0.11" />
            <part node="0>3|4|2|0"    startTime="1" endTime="16" startTrans="1.156 3.268 1.213" endTrans="1.156 3.2681 -4.341" />
            <part node="0>3|4|2|1"    startTime="1" endTime="16" startTrans="-1.163 3.268 1.213" endTrans="-1.163 3.2681 -4.341" />
            <part node="0>3|4|2|2"    startTime="1" endTime="16" startTrans="1.156 3.268 -2.229" endTrans="1.156 3.2681 -4.441" />
            <part node="0>3|4|2|3"    startTime="1" endTime="16" startTrans="-1.163 3.268 -2.229" endTrans="-1.163 3.2681 -4.441" />
        </animation>
        <animation name="tipAnimationBackDoor">
            <part node="0>3|1" startTime="0" endTime="2" startRot="0 0 0" endRot="80 0 0" />

            <part node="0>3|4|2|4"   startTime="0" endTime="0.2" startTrans="1.156 3.268 -4.624" endTrans="1.156 3.2681 -4.491" />
            <part node="0>3|4|2|5"   startTime="0" endTime="0.2" startTrans="-1.163 3.268 -4.624" endTrans="-1.163 3.2681 -4.491" />
            <part node="0>3|4|2|6"   startTime="0" endTime="0.2" startTrans="1.156 3.268 -5.226" endTrans="1.156 3.2681 -4.541" />
            <part node="0>3|4|2|7"   startTime="0" endTime="0.2" startTrans="-1.163 3.268 -5.226" endTrans="-1.163 3.2681 -4.541" />
            <part node="0>3|4|2|8"   startTime="0" endTime="0.2" startTrans="1.009 3.268 -5.377" endTrans="1.009 3.2681 -4.641" />
            <part node="0>3|4|2|9"   startTime="0" endTime="0.2" startTrans="-1.016 3.268 -5.377" endTrans="-1.016 3.2681 -4.641" />
        </animation>
    </animations>

    <support animationName="moveSupport" />

    <washable dirtDuration="90" washDuration="1" workMultiplier="4" />

    <components count="1">
        <component1 centerOfMass="0 0.75 -1" solverIterationCount="10" />
    </components>

    <schemaOverlay file="$dataS2/menu/schemas/implementSchema.png" fileSelected="$dataS2/menu/schemas/implementSchemaSelected.png" width="0.5" height="0.5" attacherJointPosition="0 0"/>

</vehicle>
